services:
  # This defines a COMPLETELY NEW service, just for development
  frontend-dev:
    build:
      context: ./services/frontend
      dockerfile: Dockerfile.svelte # <-- Uses Svelte development/production Dockerfile
    volumes:
      - ./services/frontend/src-svelte:/app/src-svelte # <-- Mounts Svelte code for hot-reloading
    ports:
      - "3002:80" # <-- Uses a different port
    # No environment variables needed - API URL is determined at runtime from window.location
    # This allows the app to work on any IP address without rebuilding
    # ...